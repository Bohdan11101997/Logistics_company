<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>

    <th:block th:replace="fragments/header :: header-bootstrap-config" />
    <th:block th:replace="fragments/header :: header-bootstrap-config-IE" />

    <link rel="stylesheet" th:href="@{/css/left_menu.css}" type="text/css" href="../static/css/left_menu.css" />
    <link rel="stylesheet" th:href="@{/css/main_content.css}" type="text/css" href="../static/css/main_content.css" />
    <link rel="stylesheet" th:href="@{/css/paginator.css}" type="text/css" href="../static/css/paginator.css" />
    <link rel="stylesheet" th:href="@{/css/table.css}" type="text/css" href="../static/css/table.css" />


</head>
<body class="body-color">

<div class="row">

    <div th:replace="fragments/left_menu :: left-menu-header">
    </div>

    <!-- Main Content -->
    <div class="container-fluid">
        <div class="side-body">
            <div class="row">
                <div class="col-lg-10 col-md-10 col-md-offset-1 col-lg-offset-1">

                    <h1> Advertisement List </h1>

                    <div class="table-responsive">
                        <table class="table">
                            <thead>
                            <tr>
                                <th>#</th>
                                <th>Caption</th>
                                <th>Description</th>
                                <th>First Show Date</th>
                                <th>End Show Date</th>
                                <th>Type</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr th:each="advertisement, iter : ${advertisements}">
                                <td th:text="${iter.index + 1}"></td>
                                <td th:text="${advertisement.caption}"></td>
                                <td th:text="${advertisement.description}"></td>
                                <td th:text="${advertisement.showFirstDate}"></td>
                                <td th:text="${advertisement.showEndDate}"></td>
                                <td th:text="${advertisement.type.name}"></td>
                                <td>
                                    <form th:action="@{'/admin/crud/advertisement/update/' + ${advertisement.id}}" th:method="GET">
                                        <button class="btn btn-link update">update</button>
                                    </form>
                                </td>
                                <td>
                                    <form th:action="@{'/admin/crud/advertisement/delete/' + ${advertisement.id}}"  th:method="POST">
                                        <button class="btn btn-link delete">delete</button>
                                    </form>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </div>

                    <!-- Paginator -->
                    <div class="form-group col-md-1">
                        <select class="form-control pagination" id="pageSizeSelect">
                            <option th:each="pageSize : ${pageSizes}" th:text="${pageSize}" th:value="${pageSize}"
                                    th:selected="${pageSize} == ${selectedPageSize}"></option>
                        </select>
                    </div>

                    <div th:if="${totalPages != 1}" class="form-group col-md-11 pagination-centered">
                        <ul class="pagination">
                            <li th:class="${currentPage == 0} ? disabled">
                                <a class="pageLink" th:href="@{/admin/advertisements/(pageSize=${selectedPageSize}, page=1)}">&laquo;</a>
                            </li>
                            <li th:class="${currentPage == 0} ? disabled">
                                <a class="pageLink" th:href="@{/admin/advertisements/(pageSize=${selectedPageSize}, page=${currentPage})}">&larr;</a>
                            </li>
                            <li th:class="${currentPage == (page - 1)} ? 'active pointer-disabled'"
                                th:each="page : ${#numbers.sequence(pager.startPage, pager.endPage)}">
                                <a class="pageLink" th:href="@{/admin/advertisements/(pageSize=${selectedPageSize}, page=${page})}"
                                   th:text="${page}"></a>
                            </li>
                            <li th:class="${currentPage + 1 == totalPages} ? disabled">
                                <a class="pageLink"
                                   th:href="@{/admin/advertisements/(pageSize=${selectedPageSize}, page=${currentPage + 2})}">&rarr;</a>
                            </li>
                            <li th:class="${currentPage + 1 == totalPages} ? disabled">
                                <a class="pageLink"
                                   th:href="@{/admin/advertisements/(pageSize=${selectedPageSize}, page=${totalPages})}">&raquo;</a>
                            </li>
                        </ul>
                    </div>

                </div>
            </div>
        </div>
    </div>
</div>

<th:block th:replace="fragments/footer :: footer"/>
<th:block th:replace="fragments/left_menu :: left-menu-footer" />

<script type="text/javascript">
    document.getElementById('advertisements').className='active';
</script>
<script th:src="@{/js/paginator_admin_advertisements.js}"></script>

</body>
</html>