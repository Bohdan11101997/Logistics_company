<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>

    <th:block th:replace="fragments/header :: header-bootstrap-config"/>
    <th:block th:replace="fragments/header :: header-bootstrap-config-IE"/>
    <th:block th:replace="fragments/header :: header-bootstrap-widgets"/>

    <link rel="stylesheet" th:href="@{/css/left_menu.css}" type="text/css" href="../static/css/left_menu.css"/>
    <link rel="stylesheet" th:href="@{/css/main_content.css}" type="text/css" href="../static/css/main_content.css"/>

    <script th:src="@{/js/forms.js}" src="../../static/js/forms.js"></script>
</head>
<body class="body-color">

<div class="row">

    <div th:replace="fragments/left_menu :: left-menu-header">
    </div>

    <!-- Main Content -->
    <div class="container-fluid">
        <div class="side-body">
            <div class="row">
                <div class="col-lg-10 col-md-10 col-md-offset-1 col-lg-offset-1">

                    <form method="post" class="form-horizontal" th:object="${searchFormOrderStatistic}">
                        <div class="form-group"
                             th:classappend="${#fields.hasErrors('from')}? 'has-error'">
                            <label class="control-label">Get common statistics by date interval</label>
                            <div class="input-daterange input-group" id="datepicker">
                                <input class="form-control" id="from-date" title="From"
                                       pattern="[0-9]{4}-(0[1-9]|1[012])-(0[1-9]|1[0-9]|2[0-9]|3[01])"
                                       placeholder="yyyy-mm-dd"
                                       th:field="*{{from}}"/>
                                <span class="input-group-addon">to</span>
                                <input class="form-control" id="to-date" title="To"
                                       pattern="[0-9]{4}-(0[1-9]|1[012])-(0[1-9]|1[0-9]|2[0-9]|3[01])"
                                       placeholder="yyyy-mm-dd"
                                       th:field="*{{to}}"/>
                            </div>
                        </div>
                        <div class="form-group">
                            <button class="btn btn-primary">
                                <a href="#"  class="glyphicon glyphicon-search"></a>
                                Search
                            </button>
                        </div>
                    </form>

                    <form method="get" class="form-horizontal" th:object="${searchFormOrderStatistic}"
                          th:action="@{/pdfreport}">
                        <div class="form-group"
                             th:classappend="${#fields.hasErrors('from')}? 'has-error'">
                            <label class="control-label">Generate pdf report statistics by date interval</label>
                            <div class="input-daterange input-group" id="datepicker">
                                <input class="form-control" id="from-date" title="From"
                                       pattern="[0-9]{4}-(0[1-9]|1[012])-(0[1-9]|1[0-9]|2[0-9]|3[01])"
                                       placeholder="yyyy-mm-dd"
                                       th:field="*{{from}}"/>
                                <span class="input-group-addon">to</span>
                                <input class="form-control" id="to-date" title="To"
                                       pattern="[0-9]{4}-(0[1-9]|1[012])-(0[1-9]|1[0-9]|2[0-9]|3[01])"
                                       placeholder="yyyy-mm-dd"
                                       th:field="*{{to}}"/>
                            </div>
                        </div>
                        <div class="form-group">
                            <button class="btn btn-primary">

                                <a href="/pdfreport" target="_blank" class="glyphicon glyphicon-search"></a>
                               Generate


                            </button>
                        </div>
                    </form>


                    <h2>Employees:</h2><label th:text="${countEmployees}"></label>
                    <h5>Admins:</h5><label th:text="${countEmployeesAdmins}"></label>
                    <h5>Couriers:</h5><label th:text="${countEmployeesCouriers}"></label>
                    <h5>On car:</h5><label th:text="${countEmployeesCouriersDriving}"></label>
                    <h5>On foot:</h5><label th:text="${countEmployeesCouriersWalking}"></label>
                    <h5>Call center agents:</h5><label th:text="${countEmployeesAgentCallCenter}"></label>
                    <h5>Managers:</h5><label th:text="${countEmployeesManagers}"></label>
                    <h2>Clients:</h2><label th:text="${countUsers}"></label>
                    <h5>Normal:</h5><label th:text="${countUsersNormal}"></label>
                    <h5>Vip:</h5><label th:text="${countUsersVip}"></label>
                    <h5>Unregistered contacts:</h5><label th:text="${countUnregisteredContacts}"></label>
                    <h2>Offices:</h2><label th:text="${countOffice}"></label>
                    <h2>Orders:</h2><label th:text="${countOrder}"></label>
                    <h5>From office:</h5><label th:text="${countOrdersFromOffice}"></label>
                    <h5>Hand to hand:</h5><label th:text="${countOrdersHandToHand}"></label>
                </div>
            </div>
        </div>
    </div>
</div>

<th:block th:replace="fragments/footer :: footer"/>
<th:block th:replace="fragments/left_menu :: left-menu-footer"/>

<script>
    function sendmail() {
        window.open('/pdfreport');

    }
    createDatePicker(".input-daterange");
</script>
</body>
</html>