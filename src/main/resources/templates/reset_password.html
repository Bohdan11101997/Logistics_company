<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>

    <th:block th:replace="fragments/header :: header-bootstrap-config"/>
    <th:block th:replace="fragments/header :: header-bootstrap-config-IE"/>

</head>
<body>

<div class="container">
    <div class="row">
        <div class="col-xs-10 col-xs-offset-1 col-sm-8 col-sm-offset-2 col-md-6 col-md-offset-3">

            <h1 style="text-align: center">Create new password</h1>

            <form style="" th:object="${resetPassword}" th:action="@{'/password/reset' + ${resetPassword.personId}}" th:method="POST">

                <div class="form-group required">
                    <label for="newPassword" class="control-label">New password</label>
                    <input type="password" class="form-control" id="newPassword" placeholder=""
                           required="required" minlength="6" maxlength="30"
                           th:value="${newPassword}"
                           th:field="*{newPassword}" />
                </div>

                <div class="form-group required">
                    <label for="repeatNewPassword" class="control-label">Repeat new password</label>
                    <input type="password" class="form-control" id="repeatNewPassword" placeholder=""
                           required="required" minlength="6" maxlength="30"
                           oninput="validate(this)"
                           th:value="${newPassword}" />
                </div>

                <div style = "margin-top: 3em;" class="form-group">
                    <button class="btn btn-primary">Save</button>
                </div>
            </form>

        </div>
    </div>
</div>

<div th:replace="fragments/footer :: footer">
</div>

<script>
    function validate(input) {
        if (input.value !== document.getElementById("newPassword").value) {
            input.setCustomValidity("Passwords don't match");
        } else {
            input.setCustomValidity("");
        }
    }
</script>

</body>
</html>